# Unit-03 학습 노트

## 정규표현식이 처음엔 외계어 같았다

이번 문제에서 가장 어려웠던 부분은 정규표현식이었다. `/^\/\/(.)\n(.*)$/` 이걸 처음 봤을 때 진짜 외계어인 줄 알았다. 도대체 이게 뭐지? 슬래시가 왜 이렇게 많지? 괄호는 또 왜 있지? 머리가 복잡해졌다.

일단 차근차근 뜯어보기로 했다. 맨 앞과 맨 뒤의 `/`는 정규표현식의 시작과 끝을 나타내는 구분자라고 한다. 그러니까 실제 패턴은 `^\/\/(.)\n(.*)$` 이 부분이다.

`^`는 문자열의 시작을 의미한다는 건 알겠는데, 그 다음에 나오는 `\/\/`가 헷갈렸다. 왜 `//`가 아니라 `\/\/`일까? 찾아보니까 `/`는 정규표현식에서 구분자로 쓰이기 때문에, 실제 슬래시 문자를 찾으려면 `\`를 앞에 붙여서 이스케이프 해줘야 한다고 한다. 그래서 `\/\/`는 실제로 `//` 두 글자를 찾는다는 의미였다.

그 다음 `(.)`를 봤다. `.`은 아무 글자나 한 글자를 의미한다는 건 알겠는데, 왜 괄호로 감쌌을까? 괄호 `()`는 캡처 그룹이라는 걸 만든다고 한다. 나중에 `match[1]`로 이 부분을 따로 꺼낼 수 있다. 여기서는 사용자가 지정한 구분자 한 글자를 캡처하는 거였다. 그럼 `;`이나 `|` 같은 구분자를 잡아내는 것이었다.

`\n`은 줄바꿈 문자다. 이것도 처음엔 "이게 뭐지?" 싶었는데, 문자열에서 엔터키를 의미한다고 생각하니까 이해가 됐다. 카톡에서 시프트+엔터 치면 줄바꿈 되는 것처럼, HTML에서 `<br>` 태그로 줄바꿈하는 것처럼, 자바스크립트에서는 `\n`으로 표현하는 방식이다.

`(.*)`는 또 다른 캡처 그룹이다. `.`은 아무 글자, `*`는 0개 이상 반복이니까 `.*`는 "아무 글자나 0개 이상"이라는 뜻이다. 결국 나머지 전부를 의미한다. 여기서는 `1;2;3` 같은 숫자 부분을 캡처하는 셈이다.

마지막 `$`는 문자열의 끝을 의미한다. 즉, 전체 패턴을 해석하면 "문자열 시작 + `//` + 구분자 한 글자 + 줄바꿈 + 나머지 전부 + 문자열 끝" 이렇게 되는 거다.

예를 들어 `//;` + 줄바꿈 + `1;2;3` 이런 형식에서 `;`와 `1;2;3` 부분을 각각 추출하는 패턴이다.

```js
const match = text.match(CUSTOM_DELIMITER_PATTERN);
const delimiter = match[1];  // 첫 번째 캡처 그룹 (구분자)
const numbers = match[2];     // 두 번째 캡처 그룹 (숫자들)
```

`match[0]`은 전체 매칭된 문자열이고, `match[1]`은 첫 번째 괄호, `match[2]`는 두 번째 괄호에 잡힌 부분이다. 이제 왜 괄호로 감쌌는지 이해가 됐다. 나중에 따로 꺼내 쓰려고 했던 것이다.

정규표현식은 처음 볼 때 정말 복잡하고 어렵게 느껴졌다. 하지만 각 기호의 의미를 하나씩 이해하고 나니까 전체 패턴이 보이기 시작했다. 여전히 어렵긴 하지만, 외계어는 아니었다. 자주 쓰는 패턴들은 외워두는 게 좋을 것 같다.

## 이스케이프 문자 `\n`의 이해

`\n`이라는 표현이 처음엔 낯설었다. 문자열에서 엔터를 어떻게 표현하지? 그냥 엔터를 치면 되는 거 아닌가? 싶었는데, 코드에서는 `\n`이라는 특수한 문자로 줄바꿈을 표현한다는 걸 알게 됐다.

```js
"//;\n1;2;3"
```

이 문자열을 보면 한 줄처럼 보이지만, 실제로는 두 줄로 이루어진 것처럼 동작한다.
```
//;
1;2;3
```

왜 이렇게 해야 하는 걸까? 생각해보니까 코드에서 문자열은 따옴표로 감싸는데, 중간에 진짜 엔터를 치면 문자열이 끊어져 버린다. 그래서 줄바꿈을 `\n`이라는 문자로 표현하는 방식이었다.

카톡에서 시프트+엔터 치면 줄이 바뀌는 것처럼, HTML에서 `<br>` 태그로 줄바꿈하는 것처럼, 자바스크립트에서는 `\n`으로 표현하는 셈이다. 다만 화면에 보이는 방식이 다를 뿐이다. `\n` 앞부분에는 구분자 정보가 있고, `\n` 뒷부분에는 실제 숫자들이 있다. 이 구조를 이해하고 나니까 왜 정규표현식에서 `\n`을 기준으로 나누는지 명확해졌다.

자바스크립트에서 `\`로 시작하는 문자들을 이스케이프 문자라고 부른다는 것도 알게 됐다. `\n`은 줄바꿈, `\t`는 탭, `\\`는 백슬래시 자체를 의미한다. 처음엔 "왜 이렇게 복잡하게 하지?" 싶었는데, 코드에서 특수한 문자를 표현하려면 이런 방식이 필요했던 것이다. 그냥 엔터를 치면 코드가 깨지니까, `\n`이라는 약속된 표현을 쓰는 셈이다.
