# Unit-02 학습 노트

## Number.isNaN()을 쓴 이유

문자열을 숫자로 변환할 때 유효성 검증이 필요했다. 구글에 "javascript 숫자 검증"을 검색했더니 Number.isNaN()이 나왔다.

근데 글을 읽다보니까 isNaN()이랑 헷갈리지 말라는 경고가 있었다. 둘이 뭐가 다른거지? 궁금해서 찾아봤다.

```js
// isNaN() 테스트
isNaN("123")   // false
isNaN("abc")   // true
isNaN("   ")   // false - 어?
isNaN(null)    // false - 왜?
```

isNaN()은 먼저 숫자로 변환을 시도한다고 한다. 그래서 `"   "`이 0으로 변환되고, null도 0이 되니까 false를 반환한다. 이게 문제가 될 수 있겠다 싶었다.

Number.isNaN()은 어떻게 다른지 비교해봤다.

```js
// Number.isNaN() 테스트
Number.isNaN("   ")  // false (문자열은 NaN이 아니니까)
Number.isNaN(NaN)    // true (진짜 NaN만 true)
Number.isNaN(123)    // false
```

Number.isNaN()은 진짜 NaN 타입인지만 체크한다. 형변환 같은거 안한다. 훨씬 명확하다.

내 코드에서는 이미 Number(str)로 변환을 먼저 하니까, 그 결과가 NaN인지만 체크하면 된다.

```js
const num = Number(str);
if (Number.isNaN(num)) {
  throw new Error("invalid number: " + str);
}
```

여기서 또 궁금한게 생겼다. Number("   ")도 0이 되는거 아닌가? 그럼 공백이 통과되는거 아닌가?

확인해보니까 내 경우엔 괜찮았다. split()으로 나누면 "1", "2", "3" 이런 식으로만 나온다. 쉼표나 콜론으로 구분하니까 공백만 있는 경우는 안생긴다.

결론: Number.isNaN()이 의도가 명확하다. isNaN()은 예상 못한 동작이 있을 수 있으니까 피하는게 나을 것 같다.
